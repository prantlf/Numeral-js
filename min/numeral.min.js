(function(){"use strict";function a(a){var b=a.toString().split(".");return b.length<2?1:Math.pow(10,b[1].length)}function b(){var b=Array.prototype.slice.call(arguments);return b.reduce(function(b,c){var d=a(b),e=a(c);return d>e?d:e},-(1/0))}function c(a,b,c){var d;return d=b.indexOf("$")>-1?e(a,b,c):b.indexOf("%")>-1?f(a,b,c):b.indexOf(":")>-1?g(a,b):j(a,a._value,b,c)}function d(a,b){var c,d,e,f,g,i=b,j=["KB","MB","GB","TB","PB","EB","ZB","YB"],k=!1;if(b.indexOf(":")>-1)a._value=h(b);else if(b===a.state.zeroFormat)a._value=0;else{for("."!==m[a.state.language].delimiters.decimal&&(b=b.replace(/\./g,"").replace(m[a.state.language].delimiters.decimal,".")),c=new RegExp("[^a-zA-Z]"+m[a.state.language].abbreviations.thousand+"(?:\\)|(\\"+m[a.state.language].currency.symbol+")?(?:\\))?)?$"),d=new RegExp("[^a-zA-Z]"+m[a.state.language].abbreviations.million+"(?:\\)|(\\"+m[a.state.language].currency.symbol+")?(?:\\))?)?$"),e=new RegExp("[^a-zA-Z]"+m[a.state.language].abbreviations.billion+"(?:\\)|(\\"+m[a.state.language].currency.symbol+")?(?:\\))?)?$"),f=new RegExp("[^a-zA-Z]"+m[a.state.language].abbreviations.trillion+"(?:\\)|(\\"+m[a.state.language].currency.symbol+")?(?:\\))?)?$"),g=0;g<=j.length&&!(k=b.indexOf(j[g])>-1?Math.pow(1024,g+1):!1);g++);a._value=(k?k:1)*(i.match(c)?Math.pow(10,3):1)*(i.match(d)?Math.pow(10,6):1)*(i.match(e)?Math.pow(10,9):1)*(i.match(f)?Math.pow(10,12):1)*(b.indexOf("%")>-1?.01:1)*((b.split("-").length+Math.min(b.split("(").length-1,b.split(")").length-1))%2?1:-1)*Number(b.replace(/[^0-9\.]+/g,"")),a._value=k?Math.ceil(a._value):a._value}return a._value}function e(a,b,c){var d,e,f=b.indexOf("$"),g=b.indexOf("("),h=b.indexOf("-"),i="";return b.indexOf(" $")>-1?(i=" ",b=b.replace(" $","")):b.indexOf("$ ")>-1?(i=" ",b=b.replace("$ ","")):b=b.replace("$",""),e=j(a,a._value,b,c),1>=f?e.indexOf("(")>-1||e.indexOf("-")>-1?(e=e.split(""),d=1,(g>f||h>f)&&(d=0),e.splice(d,0,m[a.state.language].currency.symbol+i),e=e.join("")):e=m[a.state.language].currency.symbol+i+e:e.indexOf(")")>-1?(e=e.split(""),e.splice(-1,0,i+m[a.state.language].currency.symbol),e=e.join("")):e=e+i+m[a.state.language].currency.symbol,e}function f(a,b,c){var d,e="",f=100*a._value;return b.indexOf(" %")>-1?(e=" ",b=b.replace(" %","")):b=b.replace("%",""),d=j(a,f,b,c),d.indexOf(")")>-1?(d=d.split(""),d.splice(-1,0,e+"%"),d=d.join("")):d=d+e+"%",d}function g(a){var b=Math.floor(a._value/60/60),c=Math.floor((a._value-60*b*60)/60),d=Math.round(a._value-60*b*60-60*c);return b+":"+(10>c?"0"+c:c)+":"+(10>d?"0"+d:d)}function h(a){var b=a.split(":"),c=0;return 3===b.length?(c+=60*Number(b[0])*60,c+=60*Number(b[1]),c+=Number(b[2])):2===b.length&&(c+=60*Number(b[0]),c+=Number(b[1])),Number(c)}function i(a,b,c,d){var e,f,g=Math.pow(10,b);return f=(c(a*g)/g).toFixed(b),d&&(e=new RegExp("0{1,"+d+"}$"),f=f.replace(e,"")),f}function j(a,b,c,d){var e,f,g,h,j,k,l=!1,n=!1,o=!1,p="",q=!1,r=!1,s=!1,t=!1,u=!1,v="",w="",x=Math.abs(b),y=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],z="",A=!1;if(0===b&&null!==a.state.zeroFormat)return a.state.zeroFormat;if(c.indexOf("(")>-1?(l=!0,c=c.slice(1,-1)):c.indexOf("+")>-1&&(n=!0,c=c.replace(/\+/g,"")),c.indexOf("a")>-1&&(q=c.indexOf("aK")>=0,r=c.indexOf("aM")>=0,s=c.indexOf("aB")>=0,t=c.indexOf("aT")>=0,u=q||r||s||t,c.indexOf(" a")>-1?(p=" ",c=c.replace(" a","")):c=c.replace("a",""),x>=Math.pow(10,12)&&!u||t?(p+=m[a.state.language].abbreviations.trillion,b/=Math.pow(10,12)):x<Math.pow(10,12)&&x>=Math.pow(10,9)&&!u||s?(p+=m[a.state.language].abbreviations.billion,b/=Math.pow(10,9)):x<Math.pow(10,9)&&x>=Math.pow(10,6)&&!u||r?(p+=m[a.state.language].abbreviations.million,b/=Math.pow(10,6)):(x<Math.pow(10,6)&&x>=Math.pow(10,3)&&!u||q)&&(p+=m[a.state.language].abbreviations.thousand,b/=Math.pow(10,3))),c.indexOf("b")>-1)for(c.indexOf(" b")>-1?(v=" ",c=c.replace(" b","")):c=c.replace("b",""),g=0;g<=y.length;g++)if(e=Math.pow(1024,g),f=Math.pow(1024,g+1),b>=e&&f>b){v+=y[g],e>0&&(b/=e);break}return c.indexOf("o")>-1&&(c.indexOf(" o")>-1?(w=" ",c=c.replace(" o","")):c=c.replace("o",""),w+=m[a.state.language].ordinal(b)),c.indexOf("[.]")>-1&&(o=!0,c=c.replace("[.]",".")),h=b.toString().split(".")[0],j=c.split(".")[1],k=c.indexOf(","),j?(j.indexOf("[")>-1?(j=j.replace("]",""),j=j.split("["),z=i(b,j[0].length+j[1].length,d,j[1].length)):z=i(b,j.length,d),h=z.split(".")[0],z=z.split(".")[1].length?m[a.state.language].delimiters.decimal+z.split(".")[1]:"",o&&0===Number(z.slice(1))&&(z="")):h=i(b,null,d),h.indexOf("-")>-1&&(h=h.slice(1),A=!0),k>-1&&(h=h.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+m[a.state.language].delimiters.thousands)),0===c.indexOf(".")&&(h=""),(l&&A?"(":"")+(!l&&A?"-":"")+(!A&&n?"+":"")+h+z+(w?w:"")+(p?p:"")+(v?v:"")+(l&&A?")":"")}function k(a){var b=function(a){var c={};return Object.keys(n).forEach(function(a){c[a]=n[a]}),c.state={},Object.keys(b.state).forEach(function(a){c.state[a]=b.state[a]}),c._value=b.isNumeral(a)?Number(a.value()):0===a||"undefined"==typeof a?0:Number(a)?a:Number(c.unformat(a)),c};return b.state={language:"en",defaultFormat:"0,0",zeroFormat:null},b.zeroFormat=n.zeroFormat,b.defaultFormat=n.defaultFormat,b.isNumeral=n.isNumeral,b.language=n.language,b.languageData=n.languageData,b.createInstance=n.createInstance,b}var l="undefined"!=typeof module&&module.exports,m={en:{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}}},n={type:"numeral",language:function(a,b){if(!a)return this.state.language;if(a&&!b){if(!m[a])throw new Error("Unknown language : "+a);this.state.language=a}return(b||!m[a])&&(m[a]=b),this},clone:function(){return o(this)},format:function(a,b){var d=this;return c(this,a?a:d.state.defaultFormat,void 0!==b?b:Math.round)},unformat:function(a){return"[object Number]"===Object.prototype.toString.call(a)?a:d(this,a?a:this.state.defaultFormat)},value:function(){return this._value},valueOf:function(){return this._value},set:function(a){return this._value=Number(a),this},add:function(a){function c(a,b,c,e){return a+d*b}var d=b.call(null,this._value,a);return this._value=[this._value,a].reduce(c,0)/d,this},subtract:function(a){function c(a,b,c,e){return a-d*b}var d=b.call(null,this._value,a);return this._value=[a].reduce(c,this._value*d)/d,this},multiply:function(a){function c(a,c,d,e){var f=b(a,c);return a*f*c*f/(f*f)}return this._value=[this._value,a].reduce(c,1),this},divide:function(a){function c(a,c,d,e){var f=b(a,c);return a*f/(c*f)}return this._value=[this._value,a].reduce(c),this},difference:function(a){return Math.abs(o(this._value).subtract(a).value())},languageData:function(a){if(!a)return m[this.state.language];if(!m[a])throw new Error("Unknown language : "+a);return m[a]},isNumeral:function(a){return!(!a||!a.type||"numeral"!==a.type)},createInstance:k,zeroFormat:function(a){this.state.zeroFormat="string"==typeof a?a:null},defaultFormat:function(a){this.state.defaultFormat="string"==typeof a?a:"0.0"}},o=k();l&&(module.exports=o),"undefined"==typeof ender&&(this.numeral=o),"function"==typeof define&&define.amd&&define([],function(){return o})}).call(this);